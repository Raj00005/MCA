<?php

// Version History
// =============================================================================
// Version: 2.2
// - Update PHPMailer library to the latest version
// 
// Version: 2.1
// - Added missing semicolon in PHPmailer initialization
// 
// Version: 2.0
// - Minimum required PHP version is now 7.4
// - Improved error handling and debugging
// - Added support for cc and bcc
// - Added "honeypot" spam protection feature
// - Added support for Google reCaptcha spam protection
// 
// Version: 1.0
// - Initial Release
// =============================================================================

// Include PHPMailer library
use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

require 'vendor/autoload.php';

// Define minimum PHP version
if (version_compare(PHP_VERSION, '7.4.0', '<')) {
    die('Your PHP version is outdated. Please update to at least PHP 7.4.0.');
}

// Define error handler function
function customError($errno, $errstr) {
    echo "<b>Error:</b> [$errno] $errstr<br>";
    echo "Ending script...";
    die();
}

// Set error handler
set_error_handler("customError", E_ALL);

// Define variables
$name = '';
$email = '';
$subject = '';
$message = '';
$cc = '';
$bcc = '';
$honeypot = '';
$recaptcha_response = '';
$recaptcha_secret = '';
$mailSent = false;

// Check if form is submitted
if ($_SERVER["REQUEST_METHOD"] == "POST") {

    // Define variables from form data
    $name = strip_tags(trim($_POST["name"]));
    $name = str_replace(array("\r","\n"),array(" "," "),$name);
    $email = filter_var(trim($_POST["email
